#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const commander_1 = require("commander");
const path_1 = require("path");
const index_1 = require("./index");
const program = new commander_1.Command();
program.option('-i, --interactive', 'Run in interactive mode to update expected images');
program.option('-t, --tests [tests...]', 'Supply path to tests');
program.option('-d, --dir <dir>', 'Directory of static files');
program.option('-p, --port <port>', 'Directory of static files');
program.option('-u, --url <url>', 'URL of site to test');
program.option('-l, --logs', 'Show browser logs');
program.parse(process.argv);
const options = program.opts();
let interactive = false;
if (options.interactive) {
    interactive = options.interactive;
    console.log('Running in interactive mode');
}
if (options.dir) {
    console.log(`Running against static files in directory: ${options.dir}`);
}
const runner = new index_1.Runner({
    interactive: interactive,
    dir: options.dir,
    port: options.port,
    url: options.url,
    showLogs: options.logs
});
const dir = process.cwd();
for (let test of options.tests) {
    console.log(`Current Dir: ${dir}`);
    const testPath = (0, path_1.resolve)(dir, test);
    console.log(`Loading ${testPath}`);
    const testFile = require(testPath);
    console.log(`Loaded ${testPath}`);
}
console.log('\n\n');
(async () => {
    await runner.start();
})();
//# sourceMappingURL=cli.js.map